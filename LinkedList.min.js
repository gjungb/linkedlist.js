//copyright Matthew Parke 2012, http://ordinaryrobot.com/#page-license
var ListNode=function(){function b(a,b,c,d){this.id=a||null;this.data=b||null;this.next=c||null;this.prev=d||null}b.prototype={setId:function(a){if("number"===typeof a)this.id=a;else throw"Id must be an integer.";},getId:function(){return this.id},setData:function(a){this.data=a},getData:function(){return this.data}};return b}();
var LinkedList=function(){function d(){this.start=new ListNode;this.end=new ListNode;this.start.next=this.end;this.start.prev=null;this.end.prev=this.start;this.end.next=null;this.numNodes=this.idCounter=0}d.prototype={add:function(a){this.addLast(a)},addLast:function(a){a=new ListNode(this.idCounter,a);last=this.end;this.insertBefore(last,a);++this.idCounter;++this.numNodes},insertBefore:function(a,b){b.next=a;b.prev=a.prev;a.prev.next=b;a.prev=b},getFirst:function(){return 0===this.numNodes?null:
this.start.next},getLast:function(){return 0===this.numNodes?null:this.end.prev},getFromFirst:function(a){var b=0,c=this.start.next;if(0<=a)for(;b<a&&null!==c;)c=c.next,++b;else c=null;if(null===c)throw"Index out of bounds.";return c},getAt:function(a){var b=null;return b=0===a?this.getFirst():a===this.numNodes-1?this.getLast():this.getFromFirst(a)},size:function(){return this.numNodes},remove:function(a){a.prev.next=a.next;a.next.prev=a.prev;--this.numNodes;return a},removeFirst:function(){var a=
null;0<this.numNodes&&(a=this.remove(this.start.next));return a},removeLast:function(){var a=null;0<this.numNodes&&(a=this.remove(this.end.prev));return a},removeAll:function(){this.start.next=this.end;this.end.prev=this.start;this.numNodes=0}};return d}();